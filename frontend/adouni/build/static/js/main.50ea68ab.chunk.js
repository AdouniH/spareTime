(this.webpackJsonpadouni=this.webpackJsonpadouni||[]).push([[0],{16:function(e,t,a){},30:function(e,t,a){e.exports=a(60)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(26),r=a.n(o),l=(a(35),a(7)),s=(a(36),a(8)),i=(a(16),a(37),a(10)),m=a.n(i),u=a(29),d="https://houssem-adouni.com:8081",E=function(e){var t=e.component,a=Object(u.a)(e,["component"]),o=Object(n.useContext)(O),r=o.conn,l=o.dispatch;return Object(n.useEffect)((function(){if(r){var e=localStorage.getItem("token");m.a.get(d+"/user/checktoken/",{headers:{Authorization:"token "+e}}).catch((function(e){localStorage.removeItem("token"),l("disconnect")}))}})),c.a.createElement(s.b,Object.assign({},a,{render:function(e){return r?c.a.createElement(t,e):c.a.createElement(s.a,{to:"/authentification"})}}))};function p(){return c.a.createElement("div",{className:"debugbounding"},"ERROR")}var v=function(e){var t,a=Object(n.useContext)(O),o=(a.conn,a.dispatch),r=Object(n.useState)(""),s=Object(l.a)(r,2),i=s[0],u=s[1],E=Object(n.useState)(!1),v=Object(l.a)(E,2),b=v[0],h=v[1];return b&&(t=c.a.createElement(p,null)),c.a.createElement("div",null,c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-sm-4"},"1"),c.a.createElement("div",{class:"col-sm-4"},c.a.createElement("div",{className:"debugbounding"},c.a.createElement("form",{className:"debugbounding",onSubmit:function(t){t.preventDefault(),m.a.post(d+"/user/ptoken/",{code:i}).then((function(t){t.data.token&&(o({type:"connect",key:t.data.token}),e.history.push("/"))})).catch((function(e){h(!0)}))}},c.a.createElement("div",{class:"row a"},c.a.createElement("div",{class:"col-sm-2"}),c.a.createElement("p",{className:"col-sm-8"},"Enter your code:"),c.a.createElement("div",{class:"col-sm-2"})),c.a.createElement("div",{class:"row a"},c.a.createElement("div",{class:"col-sm-3"}),c.a.createElement("input",{class:"col-sm-6",type:"text",name:"code",onChange:function(e){u(e.target.value)}}),c.a.createElement("div",{class:"col-sm-3"})),c.a.createElement("p",{className:"centerizeText"},c.a.createElement("input",{type:"submit",value:"send"}))),t)),c.a.createElement("div",{class:"col-sm-4"},"3")))},b=a(6);var h=function(e){var t=Object(n.useContext)(O),a=(t.conn,t.dispatch);return c.a.createElement("div",null,c.a.createElement("div",{className:"debugbounding"},c.a.createElement("ul",null,c.a.createElement("li",{onClick:function(){a({type:"disconnect"})}},c.a.createElement(b.b,{to:"/"},"disconnect")),c.a.createElement("li",null,c.a.createElement(b.b,{to:"/rendezvous"},"Rdv")),c.a.createElement("li",null,c.a.createElement(b.b,{to:"/mail"},"mail")))))};function f(e){return c.a.createElement("div",{className:"debugbounding"}," Email is sent go go go ...  ")}function g(e){return c.a.createElement("div",{className:"debugbounding"}," Cet Email est d\xe9ja pr\xe9sent dans ma base de donn\xe9es")}function j(e){return c.a.createElement("div",{className:"debugbounding"}," Erreur ! email non sauvegard\xe9")}var k=function(e){var t,a=Object(n.useContext)(O),o=a.conn,r=(a.dispatch,Object(n.useState)("")),s=Object(l.a)(r,2),i=s[0],u=s[1],E=Object(n.useState)(0),p=Object(l.a)(E,2),v=p[0],b=p[1];return 1===v?t=c.a.createElement(f,null):2===v?t=c.a.createElement(g,null):3===v&&(t=c.a.createElement(j,null)),c.a.createElement("div",null,c.a.createElement(h,null),c.a.createElement("div",{className:"debugbounding"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m.a.post(d+"/mail/",{email:i},{headers:{Authorization:"token "+o}}).then((function(e){b(1),u("")})).catch((function(e){"mail with this email already exists."===e.response.data.email[0]?b(2):b(3)}))}},c.a.createElement("p",null,"Enter your email, and submit:"),c.a.createElement("input",{type:"email",value:i,onChange:function(e){u(e.target.value),b(0)}}),c.a.createElement("input",{type:"submit"})),t))};var x=function(e){return c.a.createElement("div",null,c.a.createElement(h,null),c.a.createElement("div",{className:"debugbounding"},c.a.createElement("h1",null," rendez vous ... ")))};function y(e){return c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/authentification",component:v}),c.a.createElement(E,{exact:!0,path:"/mail",component:k}),c.a.createElement(E,{exact:!0,path:"/rendezvous",component:x}),c.a.createElement(E,{exact:!0,path:"/"},c.a.createElement(s.a,{to:"/mail"})))}var w=function(e,t){switch(t.type){case"connect":return localStorage.setItem("token",t.key),t.key;case"disconnect":return localStorage.removeItem("token"),!1;default:throw new Error("Unexpected action")}},O=c.a.createContext(),S=localStorage.getItem("token");var N=function(){var e=Object(n.useReducer)(w,S),t=Object(l.a)(e,2),a=t[0],o=t[1];return c.a.createElement("div",null,c.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),c.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"}),c.a.createElement("script",{src:"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"}),c.a.createElement("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"}),c.a.createElement("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"}),c.a.createElement(b.a,null,c.a.createElement(O.Provider,{value:{conn:a,dispatch:o}},c.a.createElement(y,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.50ea68ab.chunk.js.map