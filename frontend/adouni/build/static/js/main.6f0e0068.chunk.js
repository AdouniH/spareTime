(this.webpackJsonpadouni=this.webpackJsonpadouni||[]).push([[0],{16:function(e,t,n){},30:function(e,t,n){e.exports=n(61)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},60:function(e,t,n){e.exports=n.p+"static/media/cover.1177f598.jpg"},61:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(26),r=n.n(o),l=(n(35),n(7)),i=(n(36),n(8)),u=(n(16),n(37),n(10)),s=n.n(u),m=n(29),d="https://houssem-adouni.com:8081",E=function(e){var t=e.component,n=Object(m.a)(e,["component"]),o=Object(a.useContext)(w),r=o.conn,l=o.dispatch;return Object(a.useEffect)((function(){if(r){var e=localStorage.getItem("token");s.a.get(d+"/user/checktoken/",{headers:{Authorization:"token "+e}}).catch((function(e){localStorage.removeItem("token"),l("disconnect")}))}})),c.a.createElement(i.b,Object.assign({},n,{render:function(e){return r?c.a.createElement(t,e):c.a.createElement(i.a,{to:"/authentification"})}}))};n(60);function b(){return c.a.createElement("div",null,c.a.createElement("label",{class:"red_color"},"Code incorrecte !\xa0"))}var v=function(e){document.body.classList.add("background-body");var t,n=Object(a.useContext)(w),o=(n.conn,n.dispatch),r=Object(a.useState)(""),i=Object(l.a)(r,2),u=i[0],m=i[1],E=Object(a.useState)(!1),v=Object(l.a)(E,2),p=v[0],f=v[1];return p&&(t=c.a.createElement(b,null)),c.a.createElement("div",null,c.a.createElement("div",{className:"spacer"}),c.a.createElement("div",null,c.a.createElement("div",{class:"centrallogin"},c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),s.a.post(d+"/user/ptoken/",{code:u}).then((function(t){t.data.token&&(o({type:"connect",key:t.data.token}),e.history.push("/"))})).catch((function(e){f(!0)}))}},c.a.createElement("div",{class:"logintext"},c.a.createElement("span",null,"Veuillez entrer votre code")),c.a.createElement("div",{class:"logininput"},c.a.createElement("input",{class:"in",onChange:function(e){m(e.target.value),f(!1)}})),c.a.createElement("div",{class:"loginbutton"},c.a.createElement("button",{class:"in enjoy-css",type:"submit"},"Login"))),c.a.createElement("div",{className:"errortext"},t))))},p=n(6);var f=function(e){var t=Object(a.useContext)(w),n=(t.conn,t.dispatch);return c.a.createElement("div",null,c.a.createElement("div",{className:"debugbounding"},c.a.createElement("ul",null,c.a.createElement("li",{onClick:function(){n({type:"disconnect"})}},c.a.createElement(p.b,{to:"/"},"disconnect")),c.a.createElement("li",null,c.a.createElement(p.b,{to:"/rendezvous"},"Rdv")),c.a.createElement("li",null,c.a.createElement(p.b,{to:"/mail"},"mail")))))};function g(e){return c.a.createElement("div",{className:"debugbounding"}," Email is sent go go go ...  ")}function h(e){return c.a.createElement("div",{className:"debugbounding"}," Cet Email est d\xe9ja pr\xe9sent dans ma base de donn\xe9es")}function k(e){return c.a.createElement("div",{className:"debugbounding"}," Erreur ! email non sauvegard\xe9")}var y=function(e){document.body.classList.remove("background-body");var t,n=Object(a.useContext)(w),o=n.conn,r=(n.dispatch,Object(a.useState)("")),i=Object(l.a)(r,2),u=i[0],m=i[1],E=Object(a.useState)(0),b=Object(l.a)(E,2),v=b[0],p=b[1];return 1===v?t=c.a.createElement(g,null):2===v?t=c.a.createElement(h,null):3===v&&(t=c.a.createElement(k,null)),c.a.createElement("div",null,c.a.createElement(f,null),c.a.createElement("div",{className:"debugbounding"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s.a.post(d+"/mail/",{email:u},{headers:{Authorization:"token "+o}}).then((function(e){p(1),m("")})).catch((function(e){"mail with this email already exists."===e.response.data.email[0]?p(2):p(3)}))}},c.a.createElement("p",null,"Enter your email, and submit:"),c.a.createElement("input",{type:"email",value:u,onChange:function(e){m(e.target.value),p(0)}}),c.a.createElement("input",{type:"submit"})),t))};var j=function(e){return document.body.classList.remove("background-body"),c.a.createElement("div",null,c.a.createElement(f,null),c.a.createElement("div",{className:"debugbounding"},c.a.createElement("h1",null," rendez vous ... ")))};function O(e){return c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/authentification",component:v}),c.a.createElement(E,{exact:!0,path:"/mail",component:y}),c.a.createElement(E,{exact:!0,path:"/rendezvous",component:j}),c.a.createElement(E,{exact:!0,path:"/"},c.a.createElement(i.a,{to:"/mail"})))}var x=function(e,t){switch(t.type){case"connect":return localStorage.setItem("token",t.key),t.key;case"disconnect":return localStorage.removeItem("token"),!1;default:throw new Error("Unexpected action")}},w=c.a.createContext(),S=localStorage.getItem("token");var C=function(){var e=Object(a.useReducer)(x,S),t=Object(l.a)(e,2),n=t[0],o=t[1];return c.a.createElement("div",null,c.a.createElement(p.a,null,c.a.createElement(w.Provider,{value:{conn:n,dispatch:o}},c.a.createElement(O,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.6f0e0068.chunk.js.map