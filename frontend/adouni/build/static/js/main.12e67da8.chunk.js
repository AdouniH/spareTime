(this.webpackJsonpadouni=this.webpackJsonpadouni||[]).push([[0],{29:function(e,t,n){e.exports=n(59)},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(25),r=n.n(o),i=(n(34),n(9)),l=(n(35),n(12)),u=n(6),s=(n(36),n(10)),m=n.n(s);var d=function(e){var t,n=Object(a.useContext)(v),o=(n.conn,n.dispatch),r=Object(a.useState)(""),l=Object(i.a)(r,2),u=l[0],s=l[1],d=Object(a.useState)(!1),h=Object(i.a)(d,2),f=h[0],p=h[1];return f&&(t=c.a.createElement("p",null," code invalide ")),c.a.createElement("div",{className:"debugbounding"},c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),m.a.post("http://51.178.84.176:8081/user/ptoken/",{code:u}).then((function(t){t.data.token&&(localStorage.setItem("token",t.data.token),o("connect"),e.history.push("/"))})).catch((function(e){p(!0)}))}},c.a.createElement("p",null,"Enter your code:"),c.a.createElement("input",{type:"text",name:"code",onChange:function(e){s(e.target.value)}}),c.a.createElement("input",{type:"submit"}),t))};var h=function(e){var t=Object(a.useContext)(v),n=(t.conn,t.dispatch);return c.a.createElement("div",null,c.a.createElement("div",{className:"debugbounding"},c.a.createElement("ul",null,c.a.createElement("li",{onClick:function(){n("disconnect")}}," ",c.a.createElement("a",{href:""},"disconnect")))),c.a.createElement("div",{className:"debugbounding"},c.a.createElement("h3",null,"Coming soon ...")))},f=n(28),p=function(e){var t=e.component,n=Object(f.a)(e,["component"]),o=Object(a.useContext)(v),r=o.conn,i=o.dispatch;return Object(a.useEffect)((function(){if(r){var e=localStorage.getItem("token");m.a.get("http://51.178.84.176:8081/user/checktoken/",{headers:{Authorization:"token "+e}}).then((function(e){console.log(e.status)})).catch((function(e){localStorage.removeItem("token"),i("disconnect")}))}})),c.a.createElement(u.b,Object.assign({},n,{render:function(e){return r?c.a.createElement(t,e):c.a.createElement(u.a,{to:"/authentification"})}}))};function E(e){return c.a.createElement(l.a,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/authentification",component:d}),c.a.createElement(p,{path:"/",component:h})))}var v=c.a.createContext(),b=localStorage.getItem("token"),g=function(e,t){switch(t){case"connect":return!0;case"disconnect":return localStorage.removeItem("token"),!1;default:throw new Error("Unexpected action")}};var k=function(){var e=Object(a.useReducer)(g,b),t=Object(i.a)(e,2),n=t[0],o=t[1];return c.a.createElement("div",null,c.a.createElement(v.Provider,{value:{conn:n,dispatch:o}},c.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.12e67da8.chunk.js.map